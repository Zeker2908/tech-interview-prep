# tech-interview-prep API Microservices


## üìù –û–ø–∏—Å–∞–Ω–∏–µ

–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–∞–±–æ—Ä –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤ –Ω–∞ Spring Boot –¥–ª—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ dating-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –í–∫–ª—é—á–∞–µ—Ç:

* **Auth Service**: —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ email, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è–º–∏, –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ JWT
* **API Gateway**: —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞, –≤–∞–ª–∏–¥–∞—Ü–∏—è JWT, –æ–±–æ–≥–∞—â–µ–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤
* **Notification Service**: –æ—Ç–ø—Ä–∞–≤–∫–∞ email —á–µ—Ä–µ–∑ Kafka —Å —à–∞–±–ª–æ–Ω–∞–º–∏ Thymeleaf
* **–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞**: PostgreSQL, Redis, Kafka + Zookeeper —á–µ—Ä–µ–∑ Docker Compose

---

## üîß –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

* **–Ø–∑—ã–∫ & —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏**: Java 21, Spring Boot 3.4.4, Spring Cloud 2024.0.1
* **API & Gateway**: Spring Cloud Gateway, Spring Security + OAuth2, JWT (EC‚Äë256)
* **–•—Ä–∞–Ω–∏–ª–∏—â–∞ –¥–∞–Ω–Ω—ã—Ö**:

    * PostgreSQL —á–µ—Ä–µ–∑ Spring Data JPA
    * Redis (Jedis) –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è refresh-—Ç–æ–∫–µ–Ω–æ–≤ –∏ –∫—ç—à–∞
* **–ú–µ—Å—Å–µ–¥–∂–∏–Ω–≥**: Apache Kafka (Spring Kafka)
* **–ú–∏–≥—Ä–∞—Ü–∏–∏ —Å—Ö–µ–º—ã**: Liquibase
* **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞ & —É—Ç–∏–ª–∏—Ç—ã**: MapStruct 1.6.3, Lombok 1.18.36, Guava
* **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: Springdoc OpenAPI (Swagger UI), Javadoc
* **–®–∞–±–ª–æ–Ω–Ω—ã–µ –ø–∏—Å—å–º–∞**: Thymeleaf

---

## üöÄ –ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã

> ‚ö†Ô∏è **–í–Ω–∏–º–∞–Ω–∏–µ**: –Ω–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —Ç–æ–ª—å–∫–æ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ —Å–µ—Ä–≤–∏—Å—ã Auth/Notification.

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

* Java 21
* Maven 3.8+
* Docker & Docker Compose
* –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:

  ```bash
  export CLIENT_ID=<CLIEND_ID –¥–ª—è Google OA2uth>
  export CLIENT_SECRET=<CLIENT_SECRET –¥–ª—è Google OA2uth>
  export ADMIN_USERNAME=<admin_email>
  export MAIL_USERNAME=<MAIL_USERNAME –¥–ª—è smtp>
  export MAIL_PASSWORD=<MAIL_PASSWORD –¥–ª—è smtp>
  
  ```

### –ó–∞–ø—É—Å–∫ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã
```bash
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö –∫–ª—é—á–µ–π
mkdir secrets/keys
cd secrets/keys
openssl ecparam -name prime256v1 -genkey -noout -out ec-private.pem
openssl pkcs8 -topk8 -nocrypt -in ec-private.pem -out private.pem
openssl ec -in private.pem -pubout -out public.pem
```

```bash
# –∏–∑ –∫–æ—Ä–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
docker compose up --build
```

---

## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### Auth Service

* **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è** —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º email (—á–µ—Ä–µ–∑ Kafka ‚ûî Notification Service)
* **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**:

    * Access & Refresh —Ç–æ–∫–µ–Ω—ã (EC‚Äë256 JWT)
    * –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ refresh-—Ç–æ–∫–µ–Ω–æ–≤, —Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ Redis
* **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è–º–∏**:

    * –°–±—Ä–æ—Å –ø–∞—Ä–æ–ª—è (–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∏ –ø–æ email)
    * –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è —Å –≤—ã—Ö–æ–¥–æ–º –∏–∑ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
    * –ò—Å—Ç–æ—Ä–∏—è –ø–∞—Ä–æ–ª–µ–π (–Ω–µ —Ä–∞–∑—Ä–µ—à–∞–µ—Ç –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö)
* **–õ–æ–≥–∞—É—Ç** (—Ç–µ–∫—É—â–∞—è —Å–µ—Å—Å–∏—è –∏ –≤—Å–µ —Å–µ—Å—Å–∏–∏)
* **–û–ø–µ—Ä–∞—Ü–∏–∏ –Ω–∞–¥ –∞–∫–∫–∞—É–Ω—Ç–æ–º**

  * –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –æ–± –∞–∫–∫–∞—É–Ω—Ç–µ
  * –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è —Å –≤—ã—Ö–æ–¥–æ–º –∏–∑ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
  * –£–¥–∞–ª–∏—Ç—å –∞–∫–∫–∞—É–Ω—Ç
* **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: Swagger UI & Javadoc

### API Gateway

* –í–∞–ª–∏–¥–∞—Ü–∏—è JWT —Å –ø–æ–º–æ—â—å—é –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ —Ñ–∏–ª—å—Ç—Ä–∞
* –û–±–æ–≥–∞—â–µ–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ (userId, email, —Ä–æ–ª—å)
* –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –≤ –∑–∞—â–∏—â—ë–Ω–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã

### Notification Service

* –°–ª—É—à–∞—Ç–µ–ª—å Kafka –¥–ª—è —Å–æ–±—ã—Ç–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è –∏ —Ç.–¥.)
* –û—Ç–ø—Ä–∞–≤–∫–∞ email —á–µ—Ä–µ–∑ SMTP —Å Thymeleaf-—à–∞–±–ª–æ–Ω–∞–º–∏

### Common Module

* –û–±—â–∏–µ DTO, –∑–∞–≥–æ–ª–æ–≤–∫–∏ API, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫, —É—Ç–∏–ª–∏—Ç—ã

---

–ë—É–¥–µ–º —Ä–∞–¥—ã –≤–∞—à–µ–º—É –≤–∫–ª–∞–¥—É –∏ –∏–¥–µ—è–º!

---

## ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

1. –§–æ—Ä–∫–Ω–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –°–æ–∑–¥–∞–π—Ç–µ –≤–µ—Ç–∫—É —Ñ–∏—á–∏: `git checkout -b feature/YourFeature`
3. –°–¥–µ–ª–∞–π—Ç–µ –∫–æ–º–º–∏—Ç: `git commit -m "–î–æ–±–∞–≤–∏–ª —Ñ–∏—á—É"`
4. –ó–∞–ø—É—à—å—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è: `git push origin feature/YourFeature`
5. –û—Ç–∫—Ä–æ–π—Ç–µ Pull Request

–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–æ–±–ª—é–¥–∞–π—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Å—Ç–∏–ª—å –∫–æ–¥–∞ –∏ –¥–æ–±–∞–≤–ª—è–π—Ç–µ —Ç–µ—Å—Ç—ã.

---

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã

Maintainer: **–í–∞—à–µ –ò–º—è** ‚Äì \[[mud.runner@bk.ru](mailto:mud.runner@bk.ru)]

–õ–∏—Ü–µ–Ω–∑–∏—è: [GPL-3.0](LICENSE)
